{% extends "base.html" %}
{% block title %}ReEdu | Əsas{% endblock %}
{% block content %}
  <section class="hero">
    <div class="hero-card">
      <span class="badge">Yeni nəsil təhsil</span>
      <h1>ReEdu ilə müəllim və şagirdi bir platformada birləşdir.</h1>
      <p>
        Müəllimlər üçün təsdiq sistemi, şagirdlər üçün seçim və abunəlik, canlı dərslər və
        material paylaşımı bir mərkəzdə.
      </p>
      <div class="hero-actions">
        <a class="btn btn-primary" href="{{ url_for('register', role='teacher') }}">Müəllim kimi qoşul</a>
        <a class="btn btn-accent" href="{{ url_for('register', role='student') }}">Şagird kimi başla</a>
      </div>
    </div>
    <div class="hero-banner" aria-hidden="true"></div>
  </section>

  <section class="section">
    <h2>Niyə ReEdu?</h2>
    <div class="card-grid">
      <div class="card">
        <h3>Təsdiqlənmiş müəllimlər</h3>
        <p class="muted">Admin təsdiqi ilə güvənli mühit və keyfiyyətli tədris.</p>
      </div>
      <div class="card">
        <h3>Çevik dərs planı</h3>
        <p class="muted">Şagird-müəllim uyğunluğu və canlı dərs qrafiki qurmaq imkanı.</p>
      </div>
      <div class="card">
        <h3>Material mərkəzi</h3>
        <p class="muted">Video, PDF və şəkilli resursları bir yerdən idarə et.</p>
      </div>
    </div>
  </section>

  <section class="section">
    <h2>Məşhur müəllimlər</h2>
    <div class="card-grid">
      {% for teacher in teachers %}
        <div class="card">
          <span class="badge">{{ teacher.subject }}</span>
          <h3>{{ teacher.user.first_name }} {{ teacher.user.last_name }}</h3>
          <p class="muted">{{ teacher.bio }}</p>
          <p class="muted">Qiymət: {{ "%.2f"|format(teacher.rate) }} AZN</p>
          {% set stats = rating_map.get(teacher.user.id) %}
          <p class="muted">
            Reytinq:
            {% if stats %}
              {{ "%.1f"|format(stats["avg"]) }} / 5 ({{ stats["count"] }})
            {% else %}
              0 / 5 (0)
            {% endif %}
          </p>
        </div>
      {% else %}
        <p class="muted">Hələ təsdiqlənmiş müəllim yoxdur. İlk müəllim siz olun!</p>
      {% endfor %}
    </div>
  </section>
{% endblock %}
